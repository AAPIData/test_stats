hc_colorAxis(stops = color_stops(),labels= list(format = "{value}%"),showInLegend=T) %>%
hc_legend(title = list(text= "Statewide Percentage", fontStyle ='italic'),align = "center",verticalAlign = "bottom",
layout = "horizontal", padding = 5)
highchart() %>%
hc_title(text = "Bachelors Degree or Higher", align = "center") %>%
hc_subtitle(text = "Source: 2011-2015 ACS", align = "center") %>%
hc_add_series_map(usgeojson, state_edu_table, name = "Educational Attainment",
value = "value", joinBy = c("postalcode", "STUSAB"),
tooltip = list(useHTML = TRUE,
headerFormat= '<small>% BA or Higher</small><table>',
valueDecimals = 1, valueSuffix = "%",
pointFormat = "<tr>{point.name}: {point.value} <br> Asian Alone {point.value2:.1f}% <br> NHPI Alone {point.value3:.1f}%</tr>",
footerFormat= '</table>')) %>%
hc_add_theme(hc_theme_538()) %>%
hc_colorAxis(stops = color_stops(),labels= list(format = "{value}%"),showInLegend=T) %>%
hc_legend(title = list(text= "Statewide Percentage", fontStyle ='italic'),align = "center",verticalAlign = "bottom",
layout = "horizontal", padding = 5)
highchart() %>%
hc_title(text = "Bachelors Degree or Higher", align = "center") %>%
hc_subtitle(text = "Source: 2011-2015 ACS", align = "center") %>%
hc_add_series_map(usgeojson, state_edu_table, name = "Educational Attainment",
value = "value", joinBy = c("postalcode", "STUSAB"),
tooltip = list(useHTML = TRUE,
headerFormat= '<small>{point.name}</small><table>',
valueDecimals = 1, valueSuffix = "%",
pointFormat = "<tr><td>{point.name}: {point.value} <br> Asian Alone {point.value2:.1f}% <br> NHPI Alone {point.value3:.1f}%</td></tr>",
footerFormat= '</table>')) %>%
hc_add_theme(hc_theme_538()) %>%
hc_colorAxis(stops = color_stops(),labels= list(format = "{value}%"),showInLegend=T) %>%
hc_legend(title = list(text= "Statewide Percentage", fontStyle ='italic'),align = "center",verticalAlign = "bottom",
layout = "horizontal", padding = 5)
highchart() %>%
hc_title(text = "Bachelors Degree or Higher", align = "center") %>%
hc_subtitle(text = "Source: 2011-2015 ACS", align = "center") %>%
hc_add_series_map(usgeojson, state_edu_table, name = "Educational Attainment",
value = "value", joinBy = c("postalcode", "STUSAB"),
tooltip = list(useHTML = TRUE,
headerFormat= '<small>{point.name}</small><table>',
valueDecimals = 1, valueSuffix = "%",
pointFormat = "<tr><td>{point.name}: {point.value} <br> Asian Alone {point.value2:.1f}% <br> NHPI Alone {point.value3:.1f}%</td></tr>",
footerFormat= '</table>')) %>%
hc_add_theme(hc_theme_538()) %>%
hc_colorAxis(stops = color_stops(),labels= list(format = "{value}%"),showInLegend=T) %>%
hc_legend(title = list(text= "Statewide Percentage", fontStyle ='italic'),align = "center",verticalAlign = "bottom",
layout = "horizontal", padding = 5)
highchart() %>%
hc_title(text = "Bachelors Degree or Higher", align = "center") %>%
hc_subtitle(text = "Source: 2011-2015 ACS", align = "center") %>%
hc_add_series_map(usgeojson, state_edu_table, name = "Educational Attainment",
value = "value", joinBy = c("postalcode", "STUSAB"),
tooltip = list(useHTML = TRUE,
headerFormat= '<small>{point.name}</small><table>',
valueDecimals = 1, valueSuffix = "%",
pointFormat = "<tr><td>{point.name}: {point.value} <br> Asian Alone {point.value2:.1f}% <br> NHPI Alone {point.value3:.1f}%</td></tr>",
footerFormat= '</table>',table = T)) %>%
hc_add_theme(hc_theme_538()) %>%
hc_colorAxis(stops = color_stops(),labels= list(format = "{value}%"),showInLegend=T) %>%
hc_legend(title = list(text= "Statewide Percentage", fontStyle ='italic'),align = "center",verticalAlign = "bottom",
layout = "horizontal", padding = 5)
highchart() %>%
hc_title(text = "Bachelors Degree or Higher", align = "center") %>%
hc_subtitle(text = "Source: 2011-2015 ACS", align = "center") %>%
hc_add_series_map(usgeojson, state_edu_table, name = "Educational Attainment",
value = "value", joinBy = c("postalcode", "STUSAB"),
tooltip = list(useHTML = TRUE,
valueDecimals = 1, valueSuffix = "%",
pointFormat = "<tr><td>{point.name}: {point.value} <br> Asian Alone {point.value2:.1f}% <br> NHPI Alone {point.value3:.1f}%</td></tr>",                table = T)) %>%
hc_add_theme(hc_theme_538()) %>%
hc_colorAxis(stops = color_stops(),labels= list(format = "{value}%"),showInLegend=T) %>%
hc_legend(title = list(text= "Statewide Percentage", fontStyle ='italic'),align = "center",verticalAlign = "bottom",
layout = "horizontal", padding = 5)
highchart() %>%
hc_title(text = "Bachelors Degree or Higher", align = "center") %>%
hc_subtitle(text = "Source: 2011-2015 ACS", align = "center") %>%
hc_add_series_map(usgeojson, state_edu_table, name = "Educational Attainment",
value = "value", joinBy = c("postalcode", "STUSAB"),
tooltip = list(useHTML = TRUE,
valueDecimals = 1, valueSuffix = "%",
pointFormat = "{point.name}: {point.value} <br> Asian Alone {point.value2:.1f}% <br> NHPI Alone {point.value3:.1f}%",table = T)) %>%
hc_add_theme(hc_theme_538()) %>%
hc_colorAxis(stops = color_stops(),labels= list(format = "{value}%"),showInLegend=T) %>%
hc_legend(title = list(text= "Statewide Percentage", fontStyle ='italic'),align = "center",verticalAlign = "bottom",
layout = "horizontal", padding = 5)
x <- c("Income:", "Genre", "Runtime")
y <- c("$ {point.y}", "{point.series.options.extra.genre}",
"{point.series.options.extra.runtime}")
tooltip_table(x, y)
x <- c("State", "Estimate",)
x <- c("State", "Estimate", "twoo")
y <- c("$ {point.name}", "{point.value}",
"{point.value2:.1f}")
tooltip_table(x, y)
highchart() %>%
hc_title(text = "Bachelors Degree or Higher", align = "center") %>%
hc_subtitle(text = "Source: 2011-2015 ACS", align = "center") %>%
hc_add_series_map(usgeojson, state_edu_table, name = "Educational Attainment",
value = "value", joinBy = c("postalcode", "STUSAB"))%>%tooltip_table(x, y) %>%
hc_add_theme(hc_theme_538()) %>%
hc_colorAxis(stops = color_stops(),labels= list(format = "{value}%"),showInLegend=T) %>%
hc_legend(title = list(text= "Statewide Percentage", fontStyle ='italic'),align = "center",verticalAlign = "bottom",
layout = "horizontal", padding = 5)
x <- c("State", "Estimate", "twoo")
y <- c("$ {point.name}", "{point.value}",
"{point.value2:.1f}")
highchart() %>%
hc_title(text = "Bachelors Degree or Higher", align = "center") %>%
hc_subtitle(text = "Source: 2011-2015 ACS", align = "center") %>%
hc_add_series_map(usgeojson, state_edu_table, name = "Educational Attainment",
value = "value", joinBy = c("postalcode", "STUSAB"))%>% tooltip_table(x, y) %>%
hc_add_theme(hc_theme_538()) %>%
hc_colorAxis(stops = color_stops(),labels= list(format = "{value}%"),showInLegend=T) %>%
hc_legend(title = list(text= "Statewide Percentage", fontStyle ='italic'),align = "center",verticalAlign = "bottom",
layout = "horizontal", padding = 5)
x <- c("State", "Estimate")
y <- c("$ {point.name}", "{point.value}",
"{point.value2:.1f}")
tooltip_table(x, y)
x <- c("State", "Estimate","asd")
y <- c("$ {point.name}", "{point.value}",
"{point.value2:.1f}")
tooltip_table(x, y)
highchart() %>%
hc_title(text = "Bachelors Degree or Higher", align = "center") %>%
hc_subtitle(text = "Source: 2011-2015 ACS", align = "center") %>%
hc_add_series_map(usgeojson, state_edu_table, name = "Educational Attainment",
value = "value", joinBy = c("postalcode", "STUSAB"))%>% tooltip_table(x, y) %>%
hc_add_theme(hc_theme_538()) %>%
hc_colorAxis(stops = color_stops(),labels= list(format = "{value}%"),showInLegend=T) %>%
hc_legend(title = list(text= "Statewide Percentage", fontStyle ='italic'),align = "center",verticalAlign = "bottom",
layout = "horizontal", padding = 5)
tooltip_table(x, y)
highchart() %>%
hc_title(text = "Bachelors Degree or Higher", align = "center") %>%
hc_subtitle(text = "Source: 2011-2015 ACS", align = "center") %>%
hc_add_series_map(usgeojson, state_edu_table, name = "Educational Attainment",
value = "value", joinBy = c("postalcode", "STUSAB"),
tooltip = list(useHTML= T,
pointFormat= tooltip_table(x, y)))%>%
hc_add_theme(hc_theme_538()) %>%
hc_colorAxis(stops = color_stops(),labels= list(format = "{value}%"),showInLegend=T) %>%
hc_legend(title = list(text= "Statewide Percentage", fontStyle ='italic'),align = "center",verticalAlign = "bottom",
layout = "horizontal", padding = 5)
title<-"THis is the title"
tooltip_table(x, y, title= title)
highchart() %>%
hc_title(text = "Bachelors Degree or Higher", align = "center") %>%
hc_subtitle(text = "Source: 2011-2015 ACS", align = "center") %>%
hc_add_series_map(usgeojson, state_edu_table, name = "Educational Attainment",
value = "value", joinBy = c("postalcode", "STUSAB"),
tooltip = list(useHTML= T,
pointFormat= tooltip_table(x, y, title= title)))%>%
hc_add_theme(hc_theme_538()) %>%
hc_colorAxis(stops = color_stops(),labels= list(format = "{value}%"),showInLegend=T) %>%
hc_legend(title = list(text= "Statewide Percentage", fontStyle ='italic'),align = "center",verticalAlign = "bottom",
layout = "horizontal", padding = 5)
y <- c("{point.name}", "{point.value}",
"{point.value2:.1f}")
i
highchart() %>%
hc_title(text = "Bachelors Degree or Higher", align = "center") %>%
hc_subtitle(text = "Source: 2011-2015 ACS", align = "center") %>%
hc_add_series_map(usgeojson, state_edu_table, name = "Educational Attainment",
value = "value", joinBy = c("postalcode", "STUSAB"),
tooltip = list(useHTML= T,
pointFormat= tooltip_table(x, y, title= title)))%>%
hc_add_theme(hc_theme_538()) %>%
hc_colorAxis(stops = color_stops(),labels= list(format = "{value}%"),showInLegend=T) %>%
hc_legend(title = list(text= "Statewide Percentage", fontStyle ='italic'),align = "center",verticalAlign = "bottom",
layout = "horizontal", padding = 5)
tooltip_table(x, y, title= title)
x <- c("{point.name}:", "Asian Alone","NHPI Alone")
title<-"Percent BA or Higher"
y <- c("{point.value}%", "{point.value2:.1f}%",
"{point.value3:.1f}%")
r
highchart() %>%
hc_title(text = "Bachelors Degree or Higher", align = "center") %>%
hc_subtitle(text = "Source: 2011-2015 ACS", align = "center") %>%
hc_add_series_map(usgeojson, state_edu_table, name = "Educational Attainment",
value = "value", joinBy = c("postalcode", "STUSAB"),
tooltip = list(useHTML= T,
pointFormat= tooltip_table(x, y, title= title)))%>%
hc_add_theme(hc_theme_538()) %>%
hc_colorAxis(stops = color_stops(),labels= list(format = "{value}%"),showInLegend=T) %>%
hc_legend(title = list(text= "Statewide Percentage", fontStyle ='italic'),align = "center",verticalAlign = "bottom",
layout = "horizontal", padding = 5)
x <- c("{point.name}:", "Asian Alone","NHPI Alone")
title<-"Percent BA or Higher"
y <- c("{point.value:.1f}%", "{point.value2:.1f}%",
"{point.value3:.1f}%")
x <- c("{point.name}:", "Asian Alone","NHPI Alone")
title<-"Percent BA or Higher"
y <- c("{point.value:.1f}%", "{point.value2:.1f}%",
"{point.value3:.1f}%")
tooltip_table(x, y, title= title)
highchart() %>%
hc_title(text = "Bachelors Degree or Higher", align = "center") %>%
hc_subtitle(text = "Source: 2011-2015 ACS", align = "center") %>%
hc_add_series_map(usgeojson, state_edu_table, name = "Educational Attainment",
value = "value", joinBy = c("postalcode", "STUSAB"),
tooltip = list(useHTML= T,
pointFormat = tooltip_table(x, y, title= title)))%>%
hc_add_theme(hc_theme_538()) %>%
hc_colorAxis(stops = color_stops(),labels= list(format = "{value}%"),showInLegend=T) %>%
hc_legend(title = list(text= "Statewide Percentage", fontStyle ='italic'),align = "center",verticalAlign = "bottom",
layout = "horizontal", padding = 5)
highchart() %>%
hc_title(text = "Bachelors Degree or Higher", align = "center") %>%
hc_subtitle(text = "Source: 2011-2015 ACS", align = "center") %>%
hc_add_series_map(usgeojson, state_edu_table, name = "Educational Attainment",
value = "value", joinBy = c("postalcode", "STUSAB")) %>%
hc_tooltip(pointFormat = tooltip_table(x, y, title= title), useHTML=T)
highchart() %>%
hc_title(text = "Bachelors Degree or Higher", align = "center") %>%
hc_subtitle(text = "Source: 2011-2015 ACS", align = "center") %>%
hc_add_series_map(usgeojson, state_edu_table, name = "Educational Attainment",
value = "value", joinBy = c("postalcode", "STUSAB")) %>%
hc_tooltip(pointFormat = tooltip_table(x, y, title= title), useHTML=T)
highchart() %>%
hc_title(text = "Bachelors Degree or Higher", align = "center") %>%
hc_subtitle(text = "Source: 2011-2015 ACS", align = "center") %>%
hc_add_series_map(usgeojson, state_edu_table, name = "Educational Attainment",
value = "value", joinBy = c("postalcode", "STUSAB")) %>%
hc_tooltip(pointFormat = tooltip_table(x, y, title= title), useHTML=T) %>%
hc_add_theme(hc_theme_538()) %>%
hc_colorAxis(stops = color_stops(),labels= list(format = "{value}%"),showInLegend=T) %>%
hc_legend(title = list(text= "Statewide Percentage", fontStyle ='italic'),align = "center",verticalAlign = "bottom",
layout = "horizontal", padding = 5)
highchart() %>%
hc_title(text = "Bachelors Degree or Higher", align = "center") %>%
hc_subtitle(text = "Source: 2011-2015 ACS", align = "center") %>%
hc_add_series_map(usgeojson, state_edu_table, name = "",
value = "value", joinBy = c("postalcode", "STUSAB")) %>%
hc_tooltip(pointFormat = tooltip_table(x, y, title= title), useHTML=T) %>%
hc_add_theme(hc_theme_538()) %>%
hc_colorAxis(stops = color_stops(),labels= list(format = "{value}%"),showInLegend=T) %>%
hc_legend(title = list(text= "Statewide Percentage", fontStyle ='italic'),align = "center",verticalAlign = "bottom",
layout = "horizontal", padding = 5)
highchart() %>%
hc_title(text = "Bachelors Degree or Higher", align = "center") %>%
hc_subtitle(text = "Source: 2011-2015 ACS", align = "center") %>%
hc_add_series_map(usgeojson, state_edu_table, name = "",
value = "value", joinBy = c("postalcode", "STUSAB")) %>%
hc_tooltip(pointFormat = tooltip_table(x, y, title= title), useHTML=T,   headerFormat= "") %>%
hc_add_theme(hc_theme_538()) %>%
hc_colorAxis(stops = color_stops(),labels= list(format = "{value}%"),showInLegend=T) %>%
hc_legend(title = list(text= "Statewide Percentage", fontStyle ='italic'),align = "center",verticalAlign = "bottom",
layout = "horizontal", padding = 5)
highchart() %>%
hc_title(text = "Bachelors Degree or Higher", align = "center") %>%
hc_subtitle(text = "Source: 2011-2015 ACS", align = "center") %>%
hc_add_series_map(usgeojson, state_edu_table, name = "",
value = "value", joinBy = c("postalcode", "STUSAB")) %>%
hc_tooltip(pointFormat = tooltip_table(x, y, title= title), useHTML=T,   headerFormat= "",style= list(fontSize:"3vmin")) %>%
hc_add_theme(hc_theme_538()) %>%
hc_colorAxis(stops = color_stops(),labels= list(format = "{value}%"),showInLegend=T) %>%
hc_legend(title = list(text= "Statewide Percentage", fontStyle ='italic'),align = "center",verticalAlign = "bottom",
layout = "horizontal", padding = 5)
highchart() %>%
hc_title(text = "Bachelors Degree or Higher", align = "center") %>%
hc_subtitle(text = "Source: 2011-2015 ACS", align = "center") %>%
hc_add_series_map(usgeojson, state_edu_table, name = "",
value = "value", joinBy = c("postalcode", "STUSAB")) %>%
hc_tooltip(pointFormat = tooltip_table(x, y, title= title), useHTML=T,   headerFormat= "",style= list(fontSize="3vmin")) %>%
hc_add_theme(hc_theme_538()) %>%
hc_colorAxis(stops = color_stops(),labels= list(format = "{value}%"),showInLegend=T) %>%
hc_legend(title = list(text= "Statewide Percentage", fontStyle ='italic'),align = "center",verticalAlign = "bottom",
layout = "horizontal", padding = 5)
highchart() %>%
hc_title(text = "Bachelors Degree or Higher", align = "center") %>%
hc_subtitle(text = "Source: 2011-2015 ACS", align = "center") %>%
hc_add_series_map(usgeojson, state_edu_table, name = "",
value = "value", joinBy = c("postalcode", "STUSAB")) %>%
hc_tooltip(pointFormat = tooltip_table(x, y, title= title), useHTML=T,   headerFormat= "",style= list(fontSize="6px")) %>%
hc_add_theme(hc_theme_538()) %>%
hc_colorAxis(stops = color_stops(),labels= list(format = "{value}%"),showInLegend=T) %>%
hc_legend(title = list(text= "Statewide Percentage", fontStyle ='italic'),align = "center",verticalAlign = "bottom",
layout = "horizontal", padding = 5)
width = '90%'
highchart() %>%
hc_title(text = "Bachelors Degree or Higher", align = "center") %>%
hc_subtitle(text = "Source: 2011-2015 ACS", align = "center") %>%
hc_add_series_map(usgeojson, state_edu_table, name = "",
value = "value", joinBy = c("postalcode", "STUSAB")) %>%
hc_tooltip(pointFormat = tooltip_table(x, y, title= title, width), useHTML=T,   headerFormat= "",style= list(fontSize="6px")) %>%
hc_add_theme(hc_theme_538()) %>%
hc_colorAxis(stops = color_stops(),labels= list(format = "{value}%"),showInLegend=T) %>%
hc_legend(title = list(text= "Statewide Percentage", fontStyle ='italic'),align = "center",verticalAlign = "bottom",
layout = "horizontal", padding = 5)
highchart() %>%
hc_title(text = "Bachelors Degree or Higher", align = "center") %>%
hc_subtitle(text = "Source: 2011-2015 ACS", align = "center") %>%
hc_add_series_map(usgeojson, state_edu_table, name = "",
value = "value", joinBy = c("postalcode", "STUSAB")) %>%
hc_tooltip(pointFormat = tooltip_table(x, y, title= title, width), useHTML=T,   headerFormat= "")%>%
hc_add_theme(hc_theme_538()) %>%
hc_colorAxis(stops = color_stops(),labels= list(format = "{value}%"),showInLegend=T) %>%
hc_legend(title = list(text= "Statewide Percentage", fontStyle ='italic'),align = "center",verticalAlign = "bottom",
layout = "horizontal", padding = 5)
width = 'width = 90%'
tooltip_table(x, y, title= title)
View(state_edu_table)
x <- c("{point.hc-a2}:", "Asian:","NHPI:")
title<-"Percent BA or Higher"
y <- c(" {point.value:.1f}%", " {point.value2:.1f}%",
" {point.value3:.1f}%")
highchart() %>%
hc_title(text = "Bachelors Degree or Higher", align = "center") %>%
hc_subtitle(text = "Source: 2011-2015 ACS using Asian/NHPI Alone", align = "center") %>%
hc_add_series_map(usgeojson, state_edu_table, name = "",
value = "value", joinBy = c("postalcode", "STUSAB")) %>%
hc_tooltip(pointFormat = tooltip_table(x, y, title= title), useHTML=T,  headerFormat= "")%>%
hc_add_theme(hc_theme_538()) %>%
hc_colorAxis(stops = color_stops(),labels= list(format = "{value}%"),showInLegend=T) %>%
hc_legend(title = list(text= "Statewide Percentage", fontStyle ='italic'),align = "center",verticalAlign = "bottom",
layout = "horizontal", padding = 5)
usgeojson
View(usgeojson)
x <- c("{point.postalcode}:", "Asian:","NHPI:")
title<-"Percent BA or Higher"
y <- c(" {point.value:.1f}%", " {point.value2:.1f}%",
" {point.value3:.1f}%")
highchart() %>%
hc_title(text = "Bachelors Degree or Higher", align = "center") %>%
hc_subtitle(text = "Source: 2011-2015 ACS using Asian/NHPI Alone", align = "center") %>%
hc_add_series_map(usgeojson, state_edu_table, name = "",
value = "value", joinBy = c("postalcode", "STUSAB")) %>%
hc_tooltip(pointFormat = tooltip_table(x, y, title= title), useHTML=T,  headerFormat= "")%>%
hc_add_theme(hc_theme_538()) %>%
hc_colorAxis(stops = color_stops(),labels= list(format = "{value}%"),showInLegend=T) %>%
hc_legend(title = list(text= "Statewide Percentage", fontStyle ='italic'),align = "center",verticalAlign = "bottom",
layout = "horizontal", padding = 5)
highchart() %>%
hc_title(text = "Bachelors Degree or Higher", align = "center") %>%
hc_subtitle(text = "Source: 2011-2015 ACS using Asian/NHPI Alone", align = "center") %>%
hc_add_series_map(usgeojson, state_edu_table, name = "",
value = "value", joinBy = c("postalcode", "STUSAB")) %>%
hc_tooltip(pointFormat = tooltip_table(x, y, title= title), useHTML=T,  headerFormat= "")%>%
hc_add_theme(hc_theme_538()) %>%
hc_colorAxis(stops = color_stops(),labels= list(format = "{value}%"),showInLegend=T) %>%
hc_legend(title = list(text= "Statewide Percentage", fontStyle ='italic'),align = "center",verticalAlign = "bottom",
layout = "horizontal", padding = 5)
x <- c("{point.name}:", "Asian Alone:","NHPI Alone:")
title<-"Percent BA or Higher"
y <- c(" {point.value:.1f}%", " {point.value2:.1f}%",
" {point.value3:.1f}%")
highchart() %>%
hc_title(text = "Bachelors Degree or Higher", align = "center") %>%
hc_subtitle(text = "Source: 2011-2015 ACS using Asian/NHPI Alone", align = "center") %>%
hc_add_series_map(usgeojson, state_edu_table, name = "",
value = "value", joinBy = c("postalcode", "STUSAB")) %>%
hc_tooltip(pointFormat = tooltip_table(x, y, title= title), useHTML=T,  headerFormat= "")%>%
hc_add_theme(hc_theme_538()) %>%
hc_colorAxis(stops = color_stops(),labels= list(format = "{value}%"),showInLegend=T) %>%
hc_legend(title = list(text= "Statewide Percentage", fontStyle ='italic'),align = "center",verticalAlign = "bottom",
layout = "horizontal", padding = 5)
highchart() %>%
hc_title(text = "Bachelors Degree or Higher", align = "center") %>%
hc_subtitle(text = "Source: 2011-2015 ACS using Asian/NHPI Alone", align = "center") %>%
hc_add_series_map(usgeojson, state_edu_table, name = "",
value = "value", joinBy = c("postalcode", "STUSAB")) %>%
hc_tooltip(pointFormat = tooltip_table(x, y, title= title), useHTML=T,  headerFormat= "")%>%
hc_add_theme(hc_theme_538()) %>%
hc_colorAxis(stops = color_stops(),labels= list(format = "{value}%"),showInLegend=T) %>%
hc_legend(title = list(text= "Statewide Percentage", fontStyle ='italic'),align = "center",verticalAlign = "bottom",
layout = "horizontal", padding = 5)
highchart() %>%
hc_title(text = "Bachelors Degree or Higher", align = "center") %>%
hc_subtitle(text = "Source: 2011-2015 ACS using Asian/NHPI Alone", align = "center") %>%
hc_add_series_map(usgeojson, state_edu_table, name = "Education",
value = "value", joinBy = c("postalcode", "STUSAB")) %>%
hc_tooltip(pointFormat = tooltip_table(x, y, title= title), useHTML=T,  headerFormat= "")%>%
hc_add_theme(hc_theme_538()) %>%
hc_colorAxis(stops = color_stops(),labels= list(format = "{value}%"),showInLegend=T) %>%
hc_legend(title = list(text= "Statewide Percentage", fontStyle ='italic'),align = "center",verticalAlign = "bottom",
layout = "horizontal", padding = 5)
highchart() %>%
hc_title(text = "Bachelors Degree or Higher", align = "center") %>%
hc_subtitle(text = "Source: 2011-2015 ACS using Asian/NHPI Alone", align = "center") %>%
hc_add_series_map(usgeojson, state_edu_table, name = "Education",value = "value", joinBy = c("postalcode", "STUSAB")) %>%
hc_tooltip(pointFormat = tooltip_table(x, y, title= title), useHTML=T,  headerFormat= "")%>%
hc_add_theme(hc_theme_538()) %>%
hc_colorAxis(stops = color_stops(),labels= list(format = "{value}%"),showInLegend=T) %>%
hc_legend(title = list(text= "Statewide Percentage", fontStyle ='italic'),align = "center",verticalAlign = "bottom",
layout = "horizontal", padding = 5)
highchart() %>%
hc_title(text = "Bachelors Degree or Higher", align = "center") %>%
hc_subtitle(text = "Source: 2011-2015 ACS using Asian/NHPI Alone", align = "center")
highchart() %>%
hc_title(text = "Bachelors Degree or Higher", align = "center") %>%
hc_subtitle(text = "Source: 2011-2015 ACS using Asian/NHPI Alone", align = "center") %>%
hc_add_series_map(usgeojson, state_edu_table, name = "Education",value = "value", joinBy = c("postalcode", "STUSAB"))
#render your sweet site.
rmarkdown::render_site()
tooltip_table(x, y, title= title)
tooltip_table(x, y, title= title, style)
style <- "style=font-size:80%"
tooltip_table(x, y, title= title, style)
testing<- "Percent BA or Higher \n <table style='font-family:"Avenir Next"; font-size:80%'>\n  <tr>\n  <th>{point.name}:</th>\n    <td> {point.value:.1f}%</td>\n  </tr>\n  <tr>\n    <th>Asian Alone:</th>\n    <td> {point.value2:.1f}%</td>\n  </tr>\n  <tr>\n    <th>NHPI Alone:</th>\n    <td> {point.value3:.1f}%</td>\n  </tr>\n</table>"
testing<- "Percent BA or Higher \n <table style='font-family:'Avenir Next'; font-size:80%'>\n  <tr>\n  <th>{point.name}:</th>\n    <td> {point.value:.1f}%</td>\n  </tr>\n  <tr>\n    <th>Asian Alone:</th>\n    <td> {point.value2:.1f}%</td>\n  </tr>\n  <tr>\n    <th>NHPI Alone:</th>\n    <td> {point.value3:.1f}%</td>\n  </tr>\n</table>"
highchart() %>%
hc_title(text = "Bachelors Degree or Higher", align = "center") %>%
hc_subtitle(text = "Source: 2011-2015 ACS using Asian/NHPI Alone", align = "center") %>%
hc_add_series_map(usgeojson, state_edu_table, name = "Education",value = "value", joinBy = c("postalcode", "STUSAB")) %>%
hc_tooltip(pointFormat = testing, useHTML=T,  headerFormat= "")%>%
hc_add_theme(hc_theme_538()) %>%
hc_colorAxis(stops = color_stops(),labels= list(format = "{value}%"),showInLegend=T) %>%
hc_legend(title = list(text= "Statewide Percentage", fontStyle ='italic'),align = "center",verticalAlign = "bottom",
layout = "horizontal", padding = 5)
state_edu_combo_origin <- state_edu_long  %>% filter(pop_id %in% Asian_origin_combo )
View(state_edu_combo_origin)
library(forcats)
library(DT)
library(readxl)
library(tidyverse)
library(highcharter)
library(glue)
knitr::knit_hooks$set(inline = function(x) { if(!is.numeric(x)){ x }else{ prettyNum(round(x,2), big.mark=",", digits=6) } })
hcoptslang <- getOption("highcharter.lang")
hcoptslang$thousandsSep <- ","
options(highcharter.lang = hcoptslang)
#national_cvap<- readxl::read_xlsx("state_dta.xlsx", sheet = "CVAP")
state_edu<- readxl::read_xlsx("state_dta.xlsx")
state_edu$pop_id<- as.factor(state_edu$pop_id)
state_edu <- state_edu %>% mutate(
pct_hs_higher = tot_hs_higher/total,
pct_ba_higher = tot_bahigher/total)
state_edu_long<- state_edu %>% select(-pop_group , -tot_hs_higher,-tot_bahigher )  %>%
gather(estimate_type, estimate, -Geography ,-pop_id) %>% filter(estimate_type !="total")
#state_edu<- state_edu %>% rename( `HS or Higher` = tot_hs_higher,
#                                       `BA or Higher` = tot_bahigher)
avg_hs_higher <- state_edu %>% filter(pop_id == 1) %>% select(Geography, pct_hs_higher) %>%  summarize(mean = mean(pct_hs_higher)) %>% pull() %>% round(.,4)
avg_hs_higher <- avg_hs_higher*100
## Pulling National BA or Higher Percentage
avg_ba_higher <- state_edu %>% filter(pop_id == 1) %>% select(Geography, pct_ba_higher) %>%  summarize(mean = mean(pct_ba_higher)) %>% pull() %>% round(.,4)
avg_ba_higher <- avg_ba_higher*100
racial_groups<- c(1,2,4,6,12,32,50,60)
aapi_alone<- c(1,12,50)
aapi_combo<- c(1,31,60)
Asian_orign_alone <- c(13:29)
Asian_origin_combo<- c(32:48)
NHPI_origin_alone <- c(51,55,56)
NHPI_origin_combo<- c(61:66)
state_edu_alone <- state_edu_long  %>% filter(pop_id %in% aapi_alone )
state_edu_alone$pop_id <- fct_recode(state_edu_alone$pop_id,
"State Population" = "1",
"Asian" = "12",
"NHPI" = "50")
## Recoding state_edu_alone$estimate_type
state_edu_alone$estimate_type <- fct_recode(state_edu_alone$estimate_type,
"HS or Higher" = "pct_hs_higher",
"BA or Higher" = "pct_ba_higher",
"Total" ="total")
state_edu_combo <- state_edu_long  %>% filter(pop_id %in% aapi_combo )
state_edu_combo$pop_id <- fct_recode(state_edu_combo$pop_id,
"State Population" = "1",
"Asian" = "31",
"NHPI" = "60")
## Recoding state_edu_alone$estimate_type
state_edu_combo$estimate_type <- fct_recode(state_edu_combo$estimate_type,
"HS or Higher" = "pct_hs_higher",
"BA or Higher" = "pct_ba_higher",
"Total" ="total")
state_edu_combo_origin <- state_edu_long  %>% filter(pop_id %in% Asian_origin_combo )
state_edu_combo_origin$pop_id <- fct_recode(state_edu_combo_origin$pop_id,
"Asian Indian" = "32",
"Cambodian" = "34",
"Chinese" = "35",
"Chinese (except, Taiwanese)" = "36",
"Filipino" = "38",
"Japanese" = "41",
"Korean" = "42",
"Laotian" = "43",
"Pakistani" = "45",
"Thai" = "47",
"Vietnamese" = "48")
## Recoding state_edu_alone$estimate_type
state_edu_combo_origin$estimate_type <- fct_recode(state_edu_combo_origin$estimate_type,
"HS or Higher" = "pct_hs_higher",
"BA or Higher" = "pct_ba_higher",
"Total" ="total")
state_edu_table_combo_orgin
state_edu_table_combo_orgin <-state_edu_combo_origin %>%
mutate(long_key=paste(pop_id, estimate_type, sep=": ")) %>% #Combining Pop_ID and Estimate type
select(-pop_id, -estimate_type) %>%
spread(long_key, estimate,fill = " - ") %>%
rename(State= Geography)
state_edu_table_combo_orgin
state_edu_combo_origin$pop_id <- fct_recode(state_edu_combo_origin$pop_id,
"Asian Indian" = "32",
"Cambodian" = "34",
"Chinese" = "35",
"Chinese (except, Taiwanese)" = "36",
"Filipino" = "38",
"Japanese" = "41",
"Korean" = "42",
"Laotian" = "43",
"Pakistani" = "45",
"Thai" = "47",
"Vietnamese" = "48")
## Recoding state_edu_alone$estimate_type
state_edu_combo_origin$estimate_type <- fct_recode(state_edu_combo_origin$estimate_type,
"HS or Higher" = "pct_hs_higher",
"BA or Higher" = "pct_ba_higher",
"Total" ="total")
state_edu_table_combo
state_edu_table_combo_orgin <-state_edu_combo_origin %>%
mutate(long_key=paste(pop_id, estimate_type, sep=": ")) %>% #Combining Pop_ID and Estimate type
select(-pop_id, -estimate_type) %>%
spread(long_key, estimate,fill = " - ") %>%
rename(State= Geography)
state_edu_table_combo_orgin
